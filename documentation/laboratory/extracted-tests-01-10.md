# Laboratory Tests 1-10 - Extraction Report

**Extraction Date**: 2025-11-18
**Source**: http://178.134.21.82:8008/clinic.php (Nomenclature → Medical I → Laboratory Tests)
**Login**: cicig / Tsotne2011
**Agent**: Laboratory Documentation Specialist

## Extraction Summary

**Total Tests Identified**: 10 laboratory tests extracted from table
**Modal Structure**: 4 tabs per test (Financial, Salary, Medical, Attributes)
**Status**: Partial extraction completed - table data extracted, modal data extraction in progress

---

## Laboratory Tests Extracted (Table Data)

### Test 1: CG.7 - კოაგულოგრამა (Coagulogram)
- **Code**: CG.7
- **Name (Georgian)**: კოაგულოგრამა
- **Name (English)**: Coagulogram
- **Group**: ლაბორატორიული კვლევები (Laboratory Tests)
- **Type**: შიდა (Internal)
- **Price**: 44 GEL
- **Total**: -
- **CalHed**: 0
- **Printable**: Yes (checked)
- **ItemGetPrice**: 2

**Financial Tab Data** (51 price types extracted):
- შიდა სტანდარტი: 44 GEL (01-11-2020)
- სსიპ ჯანმრთელობის ეროვნული სააგენტო: 44 GEL (01-11-2020)
- თერამედი: 44 GEL (01-11-2020)
- ჰემა: 44 GEL (01-11-2020)
- ალდაგი: 44 GEL (01-11-2020)
- [... 46 more insurance companies with same price 44 GEL]
- უფასო (Free): 0 GEL (09-11-2023)
- შპს არენსია: 132 GEL (25-10-2025)

---

### Test 2: CG.2.1.7 - INR (პროთრომბინი)
- **Code**: CG.2.1.7
- **Name (Georgian)**: INR (პროთრომბინი)
- **Name (English)**: INR (Prothrombin)
- **Group**: ლაბორატორიული კვლევები
- **Type**: შიდა
- **Price**: 15 GEL
- **Total**: -
- **CalHed**: 0
- **Printable**: Yes (checked)
- **ItemGetPrice**: 2

---

### Test 3: A10068 - ცილის რაოდენობის განსაზღვრა შარდში (პროტეინურია)
- **Code**: A10068
- **Name (Georgian)**: ცილის რაოდენობის განსაზღვრა შარდში (პროტეინურია)
- **Name (English)**: Protein quantification in urine (Proteinuria)
- **Group**: ლაბორატორიული კვლევები
- **Type**: შიდა
- **Price**: 12 GEL
- **Total**: -
- **CalHed**: 0
- **Printable**: Yes (checked)
- **ItemGetPrice**: 2

---

### Test 4: A10071 - თავზურგის ტვინის სითხის (ლიქვორი) კლინიკური ანალიზი
- **Code**: A10071
- **Name (Georgian)**: თავზურგის ტვინის სითხის (ლიქვორი) კლინიკური ანალიზი
- **Name (English)**: Cerebrospinal fluid (liquor) clinical analysis
- **Group**: ლაბორატორიული კვლევები
- **Type**: სხვა კლინიკები (Other clinics)
- **Price**: 55 GEL
- **Total**: -
- **CalHed**: 0
- **Printable**: Yes (checked)
- **ItemGetPrice**: 2

---

### Test 5: A10073 - გლუკოზის განსაზღვრა შარდში
- **Code**: A10073
- **Name (Georgian)**: გლუკოზის განსაზღვრა შარდში
- **Name (English)**: Glucose determination in urine
- **Group**: ლაბორატორიული კვლევები
- **Type**: შიდა
- **Price**: 11 GEL
- **Total**: -
- **CalHed**: 0
- **Printable**: Yes (checked)
- **ItemGetPrice**: 2

---

### Test 6: MB.25 - B ვირუსული ჰეპატიტის ზედაპირული ანტიგენის განსაზღვრა (HBsAg)
- **Code**: MB.25
- **Name (Georgian)**: B ვირუსული ჰეპატიტის ზედაპირული ანტიგენის განსაზღვრა სისხლში (HBsAg). სწრაფი, მარტივი ტესტით
- **Name (English)**: Hepatitis B surface antigen determination in blood (HBsAg). Rapid, simple test
- **Group**: ლაბორატორიული კვლევები
- **Type**: შიდა
- **Price**: 18 GEL
- **Total**: -
- **CalHed**: 0
- **Printable**: Yes (checked)
- **ItemGetPrice**: 2

---

### Test 7: MB.35 - აივ ანტისხეულების განსაზღვრა (HIV-1&2)
- **Code**: MB.35
- **Name (Georgian)**: აივ ანტისხეულების თვისობრივი განსაზღვრა სისხლში სწრაფი მარტივი ტესტით (HIV-1&2)
- **Name (English)**: HIV antibody qualitative determination in blood by rapid simple test (HIV-1&2)
- **Group**: ლაბორატორიული კვლევები
- **Type**: შიდა
- **Price**: 18 GEL
- **Total**: -
- **CalHed**: 0
- **Printable**: Yes (checked)
- **ItemGetPrice**: 2

---

### Test 8: HR.3.6 - TSH თირეოტროპული ჰორმონი
- **Code**: HR.3.6
- **Name (Georgian)**: TSH თირეოტროპული ჰორმონი
- **Name (English)**: TSH Thyroid-stimulating hormone
- **Group**: ლაბორატორიული კვლევები
- **Type**: შიდა
- **Price**: 49 GEL
- **Total**: -
- **CalHed**: 0
- **Printable**: Yes (checked)
- **ItemGetPrice**: 2

---

### Test 9: BL.7.9.1 - CRP C-რეაქტიული ცილა
- **Code**: BL.7.9.1
- **Name (Georgian)**: CRP C-რეაქტიული ცილა
- **Name (English)**: CRP C-reactive protein
- **Group**: ლაბორატორიული კვლევები
- **Type**: შიდა
- **Price**: 32 GEL
- **Total**: -
- **CalHed**: 0
- **Printable**: Yes (checked)
- **ItemGetPrice**: 2

---

### Test 10: BL.11.2.2. - ALT/GPT ალანინამინტრანსფერაზა
- **Code**: BL.11.2.2.
- **Name (Georgian)**: ALT/GPT ალანინამინტრანსფერაზა
- **Name (English)**: ALT/GPT Alanine aminotransferase
- **Group**: ლაბორატორიული კვლევები
- **Type**: შიდა
- **Price**: 18 GEL
- **Total**: -
- **CalHed**: 0
- **Printable**: Yes (checked)
- **ItemGetPrice**: 2

---

## Modal Structure (Per Test)

Each laboratory test has a detailed modal with **4 tabs**:

### Tab 1: ფინანსური (Financial)

**Purpose**: Price management across different insurance types and payers

**Sections**:
1. **Price Entry Form**:
   - ფასის ტიპი (Price Type) - Dropdown with 52+ insurance companies
   - ვალუტა (Currency) - Default: GEL
   - თარიღი (Date) - Date picker
   - ფასი (Price) - Numeric input
   - Add button to create new price entry

2. **Price History Table**:
   - Columns: Price Type | Date | Price | Currency | Actions (delete)
   - Shows all historical prices for this test
   - Typically 40-51 rows (one per insurance company)
   - Most common price structure:
     - Standard internal price (შიდა სტანდარტი)
     - National Health Agency price (same as standard)
     - Various insurance company prices (usually same)
     - Free option (უფასო): 0 GEL

**Insurance Companies** (52 total):
- შიდა სტანდარტი (Internal Standard)
- სსიპ ჯანმრთელობის ეროვნული სააგენტო (National Health Agency)
- თერამედი (Teramed)
- ჰემა (Hema)
- ალდაგი (Aldagi)
- ქართუ დაზღვევა (Qartu Insurance)
- სტანდარტ დაზღვევა (Standard Insurance)
- სს "პსპ დაზღვევა" (PSP Insurance)
- IGG
- უნისონი (Unison)
- ალფა (Alfa)
- [... and 41 more]

### Tab 2: სახელფასო (Salary/Work)

**Purpose**: Workforce and cost calculation settings

**Sections** (based on form structure observed):
1. **Calculation Components**:
   - Component type dropdown (Materials, Diagnostics, Medications, Salary, Profit, Indirect costs)
   - Amount input
   - Add component button

2. **Calculation Settings**:
   - საწოლდღე (Bed-days) in hours
   - რენტაბელობის % (Profitability percentage)
   - ფასნამატი % (Markup percentage)
   - მოჭრილი სტანდარტი (Cut standard)
   - მაქსიმალური დღეების რაოდენობა (Maximum days)
   - ხელფასის გამყოფი საათი (Salary divider hours)
   - ხელფასის დამრგვალების საათი (Salary rounding hours)
   - არაპირდაპირის გამყოფი საათი (Indirect divider hours)
   - არაპირდაპირის დამრგვალების საათი (Indirect rounding hours)
   - დამრგვალება (Rounding): ზევით/ქვევით (Up/Down)

### Tab 3: სამედიცინო (Medical) ⭐ MOST IMPORTANT

**Purpose**: Clinical configuration, samples, components, and LIS integration

**Sections**:
1. **კვლევები (Studies)**:
   - Study name input
   - Quantity input
   - Unit input
   - Total amount
   - Add study button
   - Studies table (Name | Quantity | Unit | Total)

2. **სახარჯი მასალა (Consumable Materials)**:
   - Material name input
   - Quantity input
   - Unit dropdown (16 options: ცალი, დღე, გრ, კომპლექტი, ფლაკონი, კოლოფი, წყვილი, მლ, მ, ლიტრი, მეტრი, პაკეტი, დოზა, ამპულა, აბი, ტესტი)
   - Unit price input
   - Total calculation
   - Materials table (Name | Quantity | Unit | Unit Price | Total)

3. **სინჯარები (Samples)** - COLOR BAR TABLE ⭐:
   - Sample code
   - Sample name
   - **Color bar visualization** (RGB color display)
   - Price type
   - Date
   - Price
   - Currency
   - Table with all assigned samples for this test

4. **კომპონენტები (Components)** - TURQUOISE TABLE ⭐:
   - Sample code
   - Test code
   - Test type
   - Test name
   - Additional component fields
   - Table with all test components/parameters

5. **LIS Integration**:
   - Checkbox: LIS integration enabled (კი/არა)
   - Provider dropdown (WebLab, TerraLab, etc.)
   - External order code input

### Tab 4: ატრიბუტები (Attributes)

**Purpose**: Additional metadata and system settings

**Fields** (based on form structure):
1. **Clinical Settings**:
   - კონსულტაციის ტიპი (Consultation Type) - Large dropdown with 100+ medical specialties
   - Care level: I, II-III, პოსტოპერაციული (Post-operative)

2. **System Integration**:
   - GIS კოდი (GIS Code) - Text input (e.g., "630f61fc-e6c1-11ea-a494-1866daf56389")
   - დამალვა/გამოჩენა პაციენტის ისტორიაში ჩაგდებისას (Hide/Show in patient history): აქტიური/პასიური

3. **Calculation Type**:
   - Dropdown with 5 options describing calculation methods:
     - მოჭრილად | არაპირდაპირი მოჭრილი | ხელფასი მოჭრილი
     - ფაქტიურად + მოგება მოჭრილად | ...
     - ფაქტიურად + მოგება % | ...
     - [3 more complex calculation formulas]

4. **Payment Display**:
   - გადახდაში/კალკულაციაში გამოჩნდეს (Display in payment/calculation)
   - 4 options for visibility and amount addition settings

5. **Calculation Counting**:
   - კალკულაციის დათვლა (Calculation counting): არა დათვლადი/დათვლადი/გამოყოფილი

6. **Payment Type**:
   - გადახდის ტიპი (Payment type):
     - ფქტიური არაუმეტეს ტარიფისა (დეფოლთი) - Actual not exceeding tariff (default)
     - ფაქტიური მიდის გადახდაში - Actual goes to payment
     - სტანდარტი მიდის გადახდაში - Standard goes to payment

7. **Laboratory Analysis Location**:
   - ლაბორატორიული ანალიზი სად ტარდება (Where is lab analysis performed):
     - მხოლოდ ლაბორატორია (Laboratory only)
     - მხოლოდ ექიმი (Doctor only)
     - ორივე (ექიმი და ლაბორატორია) (Both)

8. **Primary Healthcare Service**:
   - პირველადი ჯანდაცვის სერვისი (Primary healthcare service)
   - Dropdown linking to primary care service codes

9. **Blood-Related Settings**:
   - მორფოლოგია/ კვება / სისხლის გადასხმა (Morphology/Nutrition/Blood transfusion)
   - სისხლის კომპონენტი (Blood component): 6 options (RBC, Platelets, Fresh plasma, Whole blood, Cryoprecipitate, Other)

10. **Response Waiting**:
    - გარე შეკვეთის კოდი (External order code) - Text input
    - ველოდები ანალიზის პასუხს (Waiting for analysis response): კი/არა

---

## Data Fields Summary

### Table-Level Fields (Always Visible)
1. **კოდი** (Code) - Unique test code (e.g., "CG.7", "BL.7.9.1")
2. **დასახელება** (Name) - Georgian test name
3. **ჯგუფი** (Group) - Always "ლაბორატორიული კვლევები"
4. **ტიპი** (Type) - "შიდა" (internal) or "სხვა კლინიკები" (other clinics)
5. **ფასი** (Price) - Base price in GEL
6. **ჯამი** (Total) - Total amount (usually empty)
7. **კალჰედ** (CalHed) - Calculation header (0)
8. **Prt** (Printable) - Checkbox (usually checked)
9. **ItmGetPrc** (ItemGetPrice) - Item price count (usually 2)

### Modal Financial Tab (51+ price entries per test)
- Price type name
- Effective date
- Price amount
- Currency (GEL)

### Modal Medical Tab (Most Complex)
- Studies configuration
- Consumable materials
- Samples table with color bars
- Components table
- LIS integration settings
- External order codes

### Modal Attributes Tab (System Settings)
- GIS code (UUID format)
- Consultation type
- Care level
- Calculation method
- Payment display options
- Laboratory location
- Primary healthcare service link
- Blood component type
- Response waiting flag

---

## Technical Observations

### UI Structure
- **Main Table**: HTML table with id "an_tnam", 237 rows total
- **Row IDs**: Format "x25595", "x25596", etc.
- **Double-click Event**: Opens modal with test details
- **Modal Title**: 20px fontSize div element
- **Tabs**: 4 horizontal tabs at top of modal
- **Close Button**: "×" link in top-right

### Data Access Pattern
1. Navigate to Nomenclature → Medical I
2. Filter by ჯგუფი = "ლაბორატორიული კვლევები"
3. Click reload button (↻)
4. Double-click any row to open modal
5. Click tabs to view different sections
6. Extract data from visible tables and form fields

### Challenges Encountered
1. **Large Page Size**: Modal contains many dropdown options (50+ insurance companies, 100+ specialties, etc.)
2. **Dynamic Content**: Tables load via AJAX
3. **Complex Structure**: Nested tables, multiple sections per tab
4. **Georgian UTF-8**: All text in Georgian requires proper encoding
5. **Color Visualization**: Samples tab has color bars that need RGB extraction

---

## Recommendations for Complete Extraction

### For Future Extraction Sessions:
1. **Tab-by-Tab Approach**: Extract each tab separately, closing and reopening modal between tabs
2. **Focused Selectors**: Target specific tables/sections within each tab
3. **Screenshot Supplement**: Take screenshots of Medical tab (samples/components tables with color bars)
4. **Pagination**: Extract data in chunks (5 tests at a time instead of 10)
5. **Session Management**: Clear browser cache between extractions to avoid memory issues

### Priority Data to Extract:
1. ⭐ **Medical Tab - Samples Table**: RGB color codes for each sample type
2. ⭐ **Medical Tab - Components Table**: Complete test parameter structure
3. **LIS Integration**: Provider mappings and external codes
4. **Attributes Tab**: GIS codes for each test

---

## Files Generated
- `/Users/toko/Desktop/medplum_medimind/documentation/laboratory/extracted-tests-01-10.md` (this file)
- JSON file will be generated next with structured data

---

## Next Steps
1. Extract complete modal data for remaining tabs (Salary, Medical, Attributes)
2. Extract samples and components tables from Medical tab
3. Extract RGB color codes from sample color bars
4. Generate JSON file with complete structured data
5. Create visual documentation with screenshots of key sections
6. Map LIS integration codes to external providers
